<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style_vuggg.css">
<title>1.12 Determining the most frequently occurring item in sequence</title>
<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>1.12 Determining the most frequently occurring item in sequence - vuggg</title>
<meta property="og:title" content="1.12 Determining the most frequently occurring item in sequence" />
<meta name="description" content="Problem" />
<meta property="og:description" content="Problem" />
<link rel="canonical" href="http://localhost:4000/python_book/book/hide/2019/11/10/determine-the-most-frequency-item-in-sequence.html" />
<meta property="og:url" content="http://localhost:4000/python_book/book/hide/2019/11/10/determine-the-most-frequency-item-in-sequence.html" />
<meta property="og:site_name" content="vuggg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-11-10T22:01:03+07:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "1.12 Determining the most frequently occurring item in sequence",
"datePublished": "2019-11-10T22:01:03+07:00",
"description": "Problem",
"url": "http://localhost:4000/python_book/book/hide/2019/11/10/determine-the-most-frequency-item-in-sequence.html"}</script>
<!-- End Jekyll SEO tag -->
</head>
<body>
	<main class="container">
		<section class="about">
			
			<a class="back-button" href="/">
				<h4>Home</h4>
			</a>
            <p class="tagline"></p>
            <p class="tagline">Python</p>
            <p class="tagline">Cook Book</p>
		</section>
		<section class="content">
			<section class="exercise-content">

    <div class="exercise-heading">
        1.12 Determining the most frequently occurring item in sequence
    </div>

    <div class="exercise-content">

        
        <section id="exercise-container">
            
                    <h4>Problem</h4>

<p>Bạn có một chỗi các phần tử và bạn muốn xác định số lần mà mỗi phần tử xuất hiện trong chuỗi.</p>

<h4>Solution</h4>

<p>Couter bên trong collections module được thiết kế ra cho vấn đề này. Ta sử dụng hàm <code class="highlighter-rouge">most_common()</code> để xác định số lần xuất hiện của các phần tử trong chuỗi.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span>
<span class="s">'look'</span><span class="p">,</span> <span class="s">'into'</span><span class="p">,</span> <span class="s">'my'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">'look'</span><span class="p">,</span> <span class="s">'into'</span><span class="p">,</span> <span class="s">'my'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span>
<span class="s">'the'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">'not'</span><span class="p">,</span> <span class="s">'around'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span>
<span class="s">'eyes'</span><span class="p">,</span> <span class="s">"don't"</span><span class="p">,</span> <span class="s">'look'</span><span class="p">,</span> <span class="s">'around'</span><span class="p">,</span> <span class="s">'the'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">'look'</span><span class="p">,</span> <span class="s">'into'</span><span class="p">,</span>
<span class="s">'my'</span><span class="p">,</span> <span class="s">'eyes'</span><span class="p">,</span> <span class="s">"you're"</span><span class="p">,</span> <span class="s">'under'</span>
<span class="p">]</span>

<span class="n">word_counts</span>  <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="n">top_three</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">top_three</span><span class="p">)</span>  <span class="c1"># [('eyes', 8), ('the', 5), ('look', 4)]
</span>
</code></pre></div></div>

<h4>Discussion</h4>

<p>Input của object Counter có thể là bất kỳ một chuỗi phần tử nào, huặc là các phần tử hashable. Bên trong Couter là một dictionary, với key là các phần tử , value là số lần phần tử đó xuất hiện. Ví dụ:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">word_counts</span><span class="p">[</span><span class="s">'not'</span><span class="p">]</span>
<span class="mi">1</span>
<span class="n">word_counts</span><span class="p">[</span><span class="s">'eyes'</span><span class="p">]</span>
<span class="mi">8</span>
</code></pre></div></div>

<p>Nếu bạn muốn tự triển khai một hàm đếm số phần tử:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">counter</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="n">dic</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dic</span><span class="p">:</span>
            <span class="n">dic</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dic</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">dic</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s">'aa'</span><span class="p">,</span><span class="s">'cc'</span><span class="p">,</span><span class="s">'aa'</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">counter</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</code></pre></div></div>

<p>Và một tính năng ít được biết tới của Couter object đó là chúng có thể dễ dàng kết hợp với nhau bằng cách sử dụng các phép toán. Ví dụ như sau:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">morewords</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="n">Counter</span><span class="p">({</span><span class="s">'eyes'</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s">'the'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'look'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'into'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'my'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'around'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="s">"you're"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"don't"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'under'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'not'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span>
<span class="n">Counter</span><span class="p">({</span><span class="s">'eyes'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'looking'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'are'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'in'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'not'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'you'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s">'my'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'why'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Combine counts
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span>
<span class="n">Counter</span><span class="p">({</span><span class="s">'eyes'</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s">'the'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'look'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'my'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'into'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'not'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="s">'around'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">"you're"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"don't"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'in'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'why'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="s">'looking'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'are'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'under'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'you'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Subtract counts
</span><span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span>
<span class="n">Counter</span><span class="p">({</span><span class="s">'eyes'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s">'the'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s">'look'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'into'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">'my'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'around'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="s">"you're"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">"don't"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'under'</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div></div>

<p>Có thể nói rằng Counter là một đối tượng vô cùng hữu dụng trong việc đếm các đối tượng.</p>

                    
        </section>



    </div>    

</section>
		</section>
	</main></body>
</html>
